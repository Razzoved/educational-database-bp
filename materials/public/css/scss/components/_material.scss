@import '../defaults/variables';


.material {
    // editable variables
    $separator: $clr-gray-transparent 2px dashed;
    // style
    display: flex;
    flex-flow: column wrap;
    overflow: hidden;
    gap: 1rem;
    @media screen and (min-width: $sm) {
        padding: 0rem 0.5rem 1rem 1rem;
        border-left: $separator;
    }

    & > *:not(:last-child):not(:empty) {
        border-bottom: $separator;
        padding-bottom: 1rem;
    }

    &__header {
        position: relative;
        display: flex;
        flex-flow: row wrap;
        gap: 1rem;
    }

    &__thumbnail {
        flex: 1 1 0;
        object-fit: scale-down;
        max-width: 14rem;
        max-height: 14rem;
        border-radius: $border-radius;
        border: $clr-dark 1px solid;
        background-color: $clr-active-bg;
        @media screen and (max-width: $sm) {
            max-width: 100%;
        }
    }

    &__details {
        display: flex;
        flex-grow: 1;
        flex-flow: column;
        gap: 1rem;
        justify-content: space-between;
    }

    &__dynamic-row {
        display: flex;
        flex-flow: row wrap;
        gap: 0.5rem;
        align-items: center;

        @media screen and (min-width: $sm) and (max-width: $md) {
            max-width: 20rem;
        }

        @media screen and (min-width: $xs-l) and (max-width: $sm) {
            max-width: 10rem;
        }
    }

    &__title {
        flex-shrink: 1;
        flex-grow: 1;
        word-wrap: break-word;
    }

    &__go-back {
        align-self: flex-end;
        height: fit-content;
        margin-left: auto;
    }

    &__content {
        * {
            all: revert;
        }
        /** https://stackoverflow.com/questions/248011/how-do-i-wrap-text-in-a-pre-tag */
        pre {
            white-space: pre-wrap;       /* Since CSS 2.1 */
            white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
            white-space: -pre-wrap;      /* Opera 4-6 */
            white-space: -o-pre-wrap;    /* Opera 7 */
            word-wrap: break-word;       /* Internet Explorer 5.5+ */
        }
    }

    &__attachments {
        flex-grow: 1;
        flex-shrink: 1;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
}

.links {
    // vars
    $num_of_lines: 1;
    $thumb_size: 2.5rem;
    // style
    display: flex;
    flex-direction: column;
    list-style-type: none;
    gap: 0.5rem;

    &__item {
        display: grid;
        grid-template-columns: $thumb_size 1fr;
        gap: 0.5rem;
        align-items: center;
        &:hover {
            background-color: $clr-focus-bg;
        }
    }


    &__thumbnail {
        width: $thumb_size;
        height: $thumb_size;
    }

    &__thumbnail ~ &__href {
        grid-column: 2; // thumbnail is present
    }

    &__href {
        --num-of-lines: 1;
        grid-column: 1 / span 2; // thumbnail is missing
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: var(--num-of-lines);
        line-clamp: var(--num-of-lines);
    }

}

.relations {
    list-style-type: none;
    display: flex;
    flex-wrap: wrap;
    overflow-y: auto;
    max-height: 32rem;
    gap: 1rem;
    justify-content: flex-start;

    &__item {
        cursor: pointer;
        margin: 0.5rem;
        overflow: hidden;
        text-align: center;
        background-color: $clr-dark;
        border: $clr-gray-transparent 1px solid;
        border-radius: $border-radius + 1rem;
        width: 10rem;
        @media screen and (max-width: $xs) {
            width: 100%;
        }
        &:hover {
            background-color: $clr-focus-bg;
        }
        &:hover * {
            color: $clr-focus;
        }
    }

    &__thumbnail {
        background-color: $clr-focus;
        width: 10rem;
        height: 10rem;
        resize: both;
        @media screen and (max-width: $xs) {
            object-fit: cover;
            width: 100%;
        }
    }

    &__title {
        padding: 1rem;
        color: $clr-light;
        font-weight: bold;
    }

}
